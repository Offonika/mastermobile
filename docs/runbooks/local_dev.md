# Локальная разработка

## Подготовка окружения
- Убедитесь, что установлены Docker и Docker Compose Plugin (версии с поддержкой `docker compose`).
- Скопируйте файл переменных окружения и при необходимости обновите значения:
  ```bash
  cp .env.example .env
  ```
  Переменные из `.env` используются docker-compose стеком (`APP_*`, `DB_*`, `REDIS_*`) и приложением.

## Запуск инфраструктуры и приложения
1. Для старта только инфраструктуры выполните:
   ```bash
   docker compose up -d db redis
   ```
   Команда поднимет PostgreSQL и Redis согласно настройкам в `docker-compose.yml`.
2. Для полного стека (приложение + базы) используйте Makefile:
   ```bash
   make up
   ```
   Цель `up` выполняет `docker compose up -d --build`, собирает образ приложения и ожидает готовности `app`, `db`, `redis`.
3. После запуска можно прогнать тесты:
   ```bash
   make test
   ```

## Точки входа
- FastAPI приложение: `apps/mw/src/app.py` (запускается uvicorn).
- Логи приложения: `make logs`.
- Остановка и очистка стека: `make down`.
